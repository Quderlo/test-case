<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ seo.title }}</title>

    <meta name="description" content="{{ seo.description }}">
    <meta name="keywords" content="{{ seo.keywords }}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <script type="application/ld+json">
{{ schema_org | tojson(indent=2) | safe }}
    </script>

    <style>
        .match-card img {
            width: 64px;
            height: 64px;
            object-fit: contain;
        }
        .match-time .match-date {
            font-weight: bold;
        }
        .match-time .match-clock {
            color: #555;
        }
        .match-card .team {
            width: 150px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        .match-card .match-center {
            width: 120px;
            text-align: center;
        }
        .match-card .match-footer {
            font-size: 0.85rem;
            color: #666;
        }
        .streams a {
            margin: 0 4px;
        }
    </style>
</head>
<body>
<div class="container my-4" style="max-width: 900px;">

    <h1 class="mb-4">{{ seo.title }}</h1>

    <nav class="mb-4">
        <a class="btn btn-sm btn-outline-secondary" href="/">Home</a>
        <a class="btn btn-sm btn-outline-secondary me-1" href="/{{ discipline_key }}/yesterday">Yesterday</a>
        <a class="btn btn-sm btn-outline-secondary me-1" href="/{{ discipline_key }}/today">Today</a>
        <a class="btn btn-sm btn-outline-secondary me-1" href="/{{ discipline_key }}/tomorrow">Tomorrow</a>
    </nav>

    {% if matches %}
        {% for match in matches %}
            <div class="card mb-3 match-card">
                <div class="card-body d-flex justify-content-between align-items-center">

                    <!-- LEFT TEAM -->
                    <div class="team text-center d-flex flex-column justify-content-center align-items-center">
                        {% set team = match.opponents[0] %}
                        <img src="{{ team.image_url }}" alt="{{ team.name or 'TBD' }}" class="mb-1" style="max-width: 64px; max-height: 64px;">
                        <div>{{ team.name or 'TBD' }}</div>
                        {% if match.results and match.results[0] %}
                            <small>Score: {{ match.results[0].score }}</small>
                        {% endif %}
                    </div>

                    <!-- CENTER: DATE / TIME / TYPE / STATUS -->
                    <div class="match-time text-center mx-3" style="width: 140px; display: flex; flex-direction: column; justify-content: center;">
                        <div class="match-date">{{ match.begin_at_dt | match_date }}</div>
                        <div class="match-clock">{{ match.begin_at_dt | match_time }}</div>
                        {% if match.match_type %}
                            <div class="match-type text-muted mt-1">{{ match.match_type }}</div>
                        {% endif %}
                        {% if match.status %}
                            <div class="match-status text-muted">{{ match.status }}</div>
                        {% endif %}
                    </div>

                    <!-- RIGHT TEAM -->
                    <div class="team text-center d-flex flex-column justify-content-center align-items-center">
                        {% set team = match.opponents[1] %}
                        <img src="{{ team.image_url }}" alt="{{ team.name or 'TBD' }}" class="mb-1" style="max-width: 64px; max-height: 64px;">
                        <div>{{ team.name or 'TBD' }}</div>
                        {% if match.results and match.results[1] %}
                            <small>Score: {{ match.results[1].score }}</small>
                        {% endif %}
                    </div>

                </div>

                <div class="card-footer text-center match-footer">
                    <div>{{ match.league }} {% if match.tournament %} / {{ match.tournament }}{% endif %}</div>
                    {% if match.serie %}<div>{{ match.serie }}</div>{% endif %}
                    {% if match.videogame %}<div>{{ match.videogame }}</div>{% endif %}
                    {% if match.streams %}
                        <div class="streams">
                            {% for s in match.streams %}
                                <a href="{{ s.raw_url }}" target="_blank">{{ s.language|upper }}{% if s.official %} âœ”{% endif %}</a>
                            {% endfor %}
                        </div>
                    {% elif match.live_url %}
                        <div class="streams">
                            <a href="{{ match.live_url }}" target="_blank">Live</a>
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p class="text-center">No matches available for this day.</p>
    {% endif %}

</div>
</body>
</html>
